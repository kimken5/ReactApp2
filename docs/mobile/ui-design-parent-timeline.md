# 保護者向け記録確認画面（タイムライン） UI設計書

## 1. 画面概要

### 画面名
**生活記録タイムライン画面**（Parent Daily Records Timeline Screen）

### URL
`/parent/daily-records?date=2026-01-02&childId=123`

### 目的
保護者が園での子供の1日の記録を時系列で確認する
- 朝の記録（保護者が入力した内容）
- 園での記録（スタッフが入力した内容）

### 利用デバイス
**スマートフォン専用**（レスポンシブデザイン、画面幅320px〜428pxを想定）

---

## 2. 画面構成

### 2.1 ヘッダー部
```
┌─────────────────────────────────────┐
│ ← [たろう] [はな]                  │
├─────────────────────────────────────┤
│  ← │  2026/01/02   📅  │→        │
└─────────────────────────────────────┘
```

**要素:**
- 戻るボタン（左上）
- 園児切り替えボタン（複数園児がいる場合のみ表示）
  - 選択中の園児: `bg-blue-600 text-white`
  - 非選択の園児: `bg-gray-200 text-gray-700`
  - ボタンサイズ: `h-10 px-4 rounded-full`
  - 苗字不要、名前のみ表示
- 日付選択エリア:
  - 前日ボタン（←）
  - 日付入力フィールド（`type="date"`）
  - カレンダーアイコン（📅）
  - 翌日ボタン（→）
  - 中央揃え配置

**仕様:**
- 固定ヘッダー
- 背景色: `bg-white`
- ボーダー: `border-b border-gray-200`
- 高さ: `h-24`（2段構成）
- 日付ボタンサイズ: `h-10 w-10`
- 日付入力フィールド: `h-10 px-3 border rounded`
- 翌日が未来の場合 → 翌日ボタン無効

---

### 2.2 タイムラインコンテンツ

#### 2.2.1 朝の記録セクション（保護者入力）
```
┌─────────────────────────────────────┐
│ 🌅 朝の記録（ご家庭）              │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🌡️ 体温: 36.5℃              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📝 子供の様子               │   │
│  │                             │   │
│  │ 朝ごはんは完食しました。    │   │
│  │ 夜はぐっすり眠れていました。│   │
│  │ 少し鼻水が出ています。      │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

**要素:**
1. **セクションタイトル**: 🌅 朝の記録（ご家庭）
   - 背景色: `bg-orange-50`
   - 文字色: `text-orange-700`
   - フォントサイズ: `text-lg font-bold`

2. **体温カード**:
   - アイコン: 🌡️
   - 体温値: 大きく表示（`text-2xl font-bold`）
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

3. **子供の様子カード**:
   - アイコン: 📝
   - フリーテキスト表示
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

---

#### 2.2.2 園での記録セクション（スタッフ入力）
```
┌─────────────────────────────────────┐
│ 🏫 園での記録                       │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🌡️ 体温: 36.8℃              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 😊 機嫌: 良い                │   │
│  │                             │   │
│  │ 元気に遊んでいます           │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🍪 午前おやつ: 完食          │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🍱 昼食: ほぼ完食            │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 😴 昼寝                      │   │
│  │    12:30 ～ 14:30           │   │
│  │    睡眠時間: 2時間0分        │   │
│  │    寝つき: ぐっすり          │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🍪 午後おやつ: 半分          │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🚽 排泄記録                  │   │
│  │                             │   │
│  │  💧 おしっこ: 普通           │   │
│  │  💩 うんち: 正常             │   │
│  │                             │   │
│  │  おむつ交換: 4回             │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

**要素:**

1. **セクションタイトル**: 🏫 園での記録
   - 背景色: `bg-blue-50`
   - 文字色: `text-blue-700`
   - フォントサイズ: `text-lg font-bold`

2. **体温カード**:
   - アイコン: 🌡️
   - 体温値: `text-2xl font-bold`
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

3. **機嫌カード**:
   - アイコン: 😊😐😢（状態により変化）
   - 機嫌の状態
   - 備考テキスト（任意）
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

4. **食事カード**:
   - アイコン: 🍪（午前おやつ）、🍱（昼食）、🍪（午後おやつ）
   - 摂取量: 完食、ほぼ完食、半分、少量、食べずのいずれか
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

5. **昼寝カード**:
   - アイコン: 😴
   - 開始〜終了時刻
   - 睡眠時間（自動計算）
   - 寝つきの様子
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

6. **排泄カード**:
   - アイコン: 🚽
   - おしっこ: 💧アイコン + 状態（1日1つのみ）
   - うんち: 💩アイコン + 状態（1日1つのみ）
   - おむつ交換回数
   - 背景色: `bg-white`
   - ボーダー: `border border-gray-200 rounded-lg`
   - パディング: `p-4`

**仕様:**
- 各カード: `bg-white border border-gray-200 rounded-lg p-4 mb-3`
- アイコンサイズ: `text-2xl`
- 時刻表示不要（排泄の時間は表示しない）
- 記録者情報不要（各記録に記録者名を表示しない）
- 体温の正常範囲表示不要

---

## 3. レイアウト仕様

### 3.1 全体レイアウト
```css
{
  display: flex;
  flexDirection: column;
  minHeight: 100vh;
  backgroundColor: #f9fafb; /* bg-gray-50 */
}
```

### 3.2 スクロールエリア
```css
{
  flex: 1;
  overflowY: auto;
  paddingTop: 16px;
  paddingBottom: 24px;
  paddingX: 16px;
}
```

### 3.3 タイムライン構造
- セクション間: `mb-8`
- カード間: `mb-3`

---

## 4. カラーパレット

| 要素 | カラー | Tailwind |
|------|--------|----------|
| 朝の記録（ご家庭） | #fff7ed / #c2410c | bg-orange-50 / text-orange-700 |
| 園での記録 | #eff6ff / #1d4ed8 | bg-blue-50 / text-blue-700 |
| 正常値 | #22c55e | text-green-600 |
| 異常値 | #dc2626 | text-red-600 |
| カード背景 | #ffffff | bg-white |
| 背景 | #f9fafb | bg-gray-50 |

---

## 5. アイコン一覧

| 記録種別 | アイコン | 色 |
|---------|---------|-----|
| 体温 | 🌡️ | - |
| 食事（昼食） | 🍱 | - |
| 食事（おやつ） | 🍪 | - |
| 睡眠 | 😴 | - |
| 機嫌（良い） | 😊 | green |
| 機嫌（普通） | 😐 | gray |
| 機嫌（悪い） | 😢 | red |
| おしっこ | 💧 | blue |
| うんち | 💩 | brown |
| 排泄 | 🚽 | - |
| 正常 | ✓ | green |
| 警告 | ⚠️ | red |

---

## 6. インタラクション

### 6.1 園児切り替え
1. 園児ボタンタップ → 選択園児の記録を表示
2. 複数園児がいる場合のみ表示
3. 選択中の園児: `bg-blue-600 text-white`
4. 非選択の園児: `bg-gray-200 text-gray-700`

### 6.2 日付切り替え
1. ← ボタンタップ → 前日の記録を表示
2. → ボタンタップ → 翌日の記録を表示
3. 翌日が未来の場合 → ボタン無効
4. 日付入力フィールド選択 → カレンダーピッカー表示
5. カレンダーで日付選択 → 選択日の記録を表示

### 6.3 カードタップ（オプション）
- 詳細表示モーダル（将来実装）
- 編集機能（保護者は自分の入力のみ編集可能）

---

## 7. データ表示ルール

### 7.1 データがない場合
```
┌─────────────────────────────────────┐
│                                     │
│         📭 この日の記録はまだ       │
│            ありません               │
│                                     │
└─────────────────────────────────────┘
```

### 7.2 部分的にデータがある場合
- 記録がある項目のみ表示
- 記録がない項目は非表示

---

## 8. パフォーマンス

1. **初期表示**: 当日データの自動読み込み
2. **日付切り替え**: キャッシュ活用
3. **画像**: 遅延読み込み（Lazy Loading）

---

## 9. アクセシビリティ

1. **フォントサイズ**: 最小14px
2. **コントラスト**: WCAG AA基準
3. **タップ領域**: 最小44x44px
4. **スクリーンリーダー**: 適切なaria-label設定

---

## 10. 実装優先度

### P0（必須）
- [x] ヘッダー（園児切り替えボタン、日付選択）
- [x] 朝の記録セクション（保護者入力）
- [x] 園での記録セクション（スタッフ入力）
- [x] タイムライン表示
- [x] 基本的なカード表示

### P1（推奨）
- [ ] アイコン表示
- [ ] データがない場合の表示
- [ ] 園児切り替え機能
- [ ] 日付カレンダーピッカー

### P2（オプション）
- [ ] カードタップで詳細表示
- [ ] PDF出力機能
