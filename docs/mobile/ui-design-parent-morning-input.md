# 保護者向け朝の入力画面 UI設計書

## 1. 画面概要

### 画面名
**保護者朝の入力画面**（Parent Morning Input Screen）

### URL
`/parent/morning-input?date=2026-01-02`

### 目的
保護者が登園前に自宅で以下を入力:
1. 朝の体温
2. 子供の様子（フリーフォーマット）

### 利用デバイス
**スマートフォン専用**（レスポンシブデザイン、画面幅320px〜428pxを想定）

---

## 2. 画面構成

### 2.1 ヘッダー部
```
┌─────────────────────────────────────┐
│ ← [たろう君] [はなちゃん]          │
│    2026年1月2日（木）              │
└─────────────────────────────────────┘
```

**要素:**
- 戻るボタン（左上）
- 園児切り替えボタン（複数園児がいる場合のみ表示）
  - 選択中の園児: `bg-blue-600 text-white`
  - 非選択の園児: `bg-gray-200 text-gray-700`
  - ボタンサイズ: `h-10 px-4 rounded-full`
- 日付表示（当日のみ、過去日付入力不可）

**仕様:**
- 固定ヘッダー（スクロールしても固定）
- 背景色: `bg-white`
- ボーダー: `border-b border-gray-200`
- 高さ: `h-16`
- 複数園児の場合、ボタンタップで園児を切り替え

---

### 2.2 体温入力セクション
```
┌─────────────────────────────────────┐
│ 🌡️ 朝の体温                        │
├─────────────────────────────────────┤
│                                     │
│      ┌─────────────────────┐       │
│      │      36.5 ℃         │       │
│      └─────────────────────┘       │
│                                     │
│   ┌────┬────┬────┬────┐           │
│   │35. │36. │37. │38. │ ← クイック│
│   └────┴────┴────┴────┘   入力  │
│                                     │
│   ┌───┬───┬───┬───┐              │
│   │ 7 │ 8 │ 9 │ ← │              │
│   ├───┼───┼───┼───┤              │
│   │ 4 │ 5 │ 6 │ ○ │              │
│   ├───┼───┼───┼───┤              │
│   │ 1 │ 2 │ 3 │ C │              │
│   ├───┴───┼───┼───┤              │
│   │   0   │ . │✓ │              │
│   └───────┴───┴───┘              │
│                                     │
└─────────────────────────────────────┘
```

**要素:**
1. **セクションタイトル**: 🌡️ 朝の体温
2. **体温表示エリア**:
   - 大きな数字で体温を表示
   - フォントサイズ: `text-3xl`
   - 中央揃え
   - 背景色: `bg-gray-50`
   - 高さ: `h-16`
   - ボーダー: `border-2 border-blue-400`

3. **クイック入力ボタン**:
   - 4つのボタン: 「35.」「36.」「37.」「38.」
   - ボタンサイズ: `w-16 h-12`
   - 背景色: `bg-blue-100 hover:bg-blue-200`
   - 文字色: `text-blue-800`
   - ボーダー半径: `rounded-lg`
   - タップ時: 体温表示エリアに該当の数値を自動入力

4. **電卓風ボタングリッド**:
   - 4列3行 + 最下行
   - ボタンサイズ: `w-16 h-14`（正方形に近い）
   - 数字ボタン: `bg-white border-gray-300`
   - 小数点ボタン: `bg-white border-gray-300`
   - クリアボタン(C): `bg-red-500 text-white`
   - 決定ボタン(✓): `bg-green-500 text-white`
   - ホバー: `hover:bg-gray-100`
   - タップ: `active:scale-95`

**仕様:**
- 体温範囲: 33.0℃ ~ 42.0℃
- 小数点第1位まで入力可能
- 入力中はリアルタイム表示
- クイック入力ボタンで効率的な入力が可能

---

### 2.3 子供の様子入力セクション
```
┌─────────────────────────────────────┐
│ 📝 子供の様子・申し送り             │
├─────────────────────────────────────┤
│ ┌───────────────────────────────┐   │
│ │ 朝ごはんは完食しました。      │   │
│ │ 夜はぐっすり眠れていました。  │   │
│ │ 少し鼻水が出ています。        │   │
│ │                               │   │
│ │                               │   │
│ │                               │   │
│ │                               │   │
│ └───────────────────────────────┘   │
│                                     │
│ 💡 以下の内容で申し送り事項があれば  │
│    記入してください:                │
│    • 朝ごはんの食べ具合             │
│    • 夜の睡眠状況                   │
│    • 体調・機嫌                     │
│    • 保育士への申し送り             │
│                                     │
│    残り: 485文字                    │
└─────────────────────────────────────┘
```

**要素:**
1. **セクションタイトル**: 📝 子供の様子・申し送り
2. **テキストエリア**:
   - プレースホルダー: 「朝ごはんの食べ具合、睡眠状況、体調、保育士への申し送りなどを入力してください」
   - 行数: `rows={8}`
   - 最大文字数: 500文字
   - 背景色: `bg-gray-50`
   - ボーダー: `border border-gray-300 rounded-lg`
   - フォントサイズ: `text-base`
   - 行間: `leading-relaxed`

3. **ヘルプメッセージ**:
   - アイコン: 💡
   - 入力項目のヒント表示
   - 文字色: `text-gray-600`
   - フォントサイズ: `text-sm`

4. **文字カウンター**:
   - 「残り: X文字」形式
   - 文字色: `text-gray-500`
   - 450文字以上: `text-orange-600`
   - 500文字: `text-red-600`

---

### 2.4 保存ボタン（フッター固定）
```
┌─────────────────────────────────────┐
│                                     │
│  ┌──────────┐  ┌──────────────┐   │
│  │一時保存  │  │ ✓ 送信       │   │
│  └──────────┘  └──────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

**要素:**
1. **一時保存ボタン（左側）**:
   - ボタンテキスト: 「一時保存」
   - 背景色: `bg-gray-200`（通常時）
   - 背景色: `bg-gray-300`（無効時）
   - 文字色: `text-gray-700`
   - フォントサイズ: `text-base font-medium`
   - 高さ: `h-14`
   - 幅: 40%
   - ボーダー半径: `rounded-lg`
   - タップ: `active:scale-98`

2. **送信ボタン（右側）**:
   - ボタンテキスト: 「✓ 送信」
   - 背景色: `bg-blue-600`（通常時）
   - 背景色: `bg-gray-300`（無効時）
   - 文字色: `text-white`
   - フォントサイズ: `text-lg font-bold`
   - 高さ: `h-14`
   - 幅: 55%
   - ボーダー半径: `rounded-lg`
   - タップ: `active:scale-98`

**仕様:**
- 固定フッター（画面下部に固定）
- 体温未入力時:
  - 一時保存: 有効
  - 送信: 無効
- 体温のみ入力時:
  - 一時保存: 有効
  - 送信: 有効
- 一時保存タップ時: LocalStorageに保存 → トースト通知「一時保存しました」
- 送信タップ時: API送信 → トースト通知「送信しました」→ 前画面に戻る

---

### 2.5 トースト通知
```
┌─────────────────────────────────────┐
│                                     │
│  ┌──────────────────────────────┐  │
│  │ ✓ 保存しました               │  │
│  └──────────────────────────────┘  │
│                                     │
└─────────────────────────────────────┘
```

**要素:**
- 位置: 画面下部（ボタンの上、bottom-20）
- 背景色: `bg-green-500`
- 文字色: `text-white`
- アイコン: ✓
- フォントサイズ: `text-sm font-medium`
- 表示時間: 2秒
- アニメーション: フェードイン/フェードアウト

---

## 3. レイアウト仕様

### 3.1 全体レイアウト
```css
{
  display: flex;
  flexDirection: column;
  minHeight: 100vh;
  backgroundColor: #f9fafb; /* bg-gray-50 */
}
```

### 3.2 コンテンツエリア
```css
{
  flex: 1;
  overflowY: auto;
  paddingTop: 16px;     /* pt-4 */
  paddingBottom: 80px;  /* pb-20（フッター分の余白） */
  paddingX: 16px;       /* px-4 */
}
```

### 3.3 セクション間隔
- セクション間: `mb-6`（24px）
- セクション内要素: `mb-4`（16px）

---

## 4. カラーパレット

| 要素 | カラー | Tailwind |
|------|--------|----------|
| 背景 | #f9fafb | bg-gray-50 |
| カード背景 | #ffffff | bg-white |
| 主要ボタン | #2563eb | bg-blue-600 |
| 成功 | #22c55e | bg-green-500 |
| 警告 | #ea580c | bg-orange-600 |
| エラー | #dc2626 | bg-red-600 |
| 無効 | #d1d5db | bg-gray-300 |
| テキスト | #111827 | text-gray-900 |
| サブテキスト | #6b7280 | text-gray-500 |
| ボーダー | #e5e7eb | border-gray-200 |

---

## 5. インタラクション

### 5.1 体温入力フロー
1. 数字ボタンタップ → 体温表示エリアに数値表示
2. 小数点ボタンタップ → 小数点追加
3. Cボタンタップ → クリア
4. ✓ボタンタップ → 体温確定（子供の様子セクションへフォーカス移動）

### 5.2 子供の様子入力フロー
1. テキストエリアタップ → キーボード表示
2. 入力 → 文字カウンター更新
3. 500文字超過 → 入力不可、文字カウンター赤色表示

### 5.3 保存フロー
1. 保存ボタンタップ
2. バリデーション実行
3. API送信
4. 成功 → トースト通知表示
5. 2秒後 → 前画面に戻る

---

## 6. バリデーション

### 6.1 体温
- 必須
- 範囲: 33.0〜42.0℃
- 小数点第1位まで

### 6.2 子供の様子
- 任意（申し送り事項がある場合のみ入力）
- 最大500文字
- 空白のみ不可

---

## 7. エラーハンドリング

### 7.1 エラーメッセージ表示位置
入力欄の下に赤色テキストで表示

### 7.2 エラーメッセージ例
- 体温: 「体温を入力してください」
- 体温範囲外: 「体温は33.0〜42.0℃の範囲で入力してください」
- 子供の様子: 「子供の様子を入力してください」
- 文字数超過: 「500文字以内で入力してください」

---

## 8. アクセシビリティ

1. **フォントサイズ**: 最小14px（読みやすさ確保）
2. **タップ領域**: 最小44x44px（Appleガイドライン準拠）
3. **コントラスト**: WCAG AA基準（4.5:1以上）
4. **フォーカス表示**: キーボード操作時の視覚的フィードバック

---

## 9. パフォーマンス

1. **初期表示**: 当日データの自動読み込み
2. **保存中**: ローディングインジケーター表示
3. **オフライン対応**: LocalStorageに一時保存（将来実装）

---

## 10. 実装優先度

### P0（必須）
- [x] ヘッダー（子供情報、日付）
- [x] 体温入力（電卓UI）
- [x] 子供の様子入力（テキストエリア）
- [x] 保存ボタン（フッター固定）
- [x] トースト通知

### P1（推奨）
- [ ] バリデーション
- [ ] エラーメッセージ表示
- [ ] 文字カウンター

### P2（オプション）
- [ ] 過去データ編集
- [ ] 入力内容の一時保存
- [ ] 音声入力対応
