# タスク完了時チェックリスト

## 基本開発タスク完了時

### 1. コード品質チェック ✅
```bash
# 必須実行コマンド
npm run lint              # ESLint チェック
npm run type-check        # TypeScript 型チェック
npm run format           # Prettier フォーマット
```

### 2. テスト実行 ✅
```bash
# テスト実行（段階的）
npm run test:unit        # 単体テスト実行
npm run coverage         # カバレッジチェック（>90%）
npm run test:integration # 統合テスト（DB・API）
```

### 3. ビルド確認 ✅
```bash
# ビルド成功確認
npm run build           # 本番ビルド実行
npm run preview         # ビルド結果確認
```

## 機能実装完了時

### 4. 機能テスト ✅
```bash
# 機能別テスト
npm run test:e2e        # E2Eテスト実行
npm run test:lighthouse # パフォーマンステスト
npm run accessibility   # アクセシビリティテスト
```

### 5. セキュリティチェック ✅
```bash
# セキュリティスキャン
npm run test:security   # 脆弱性チェック
npm audit               # npm 依存関係チェック
```

### 6. データベース整合性 ✅
```bash
# DB関連確認（バックエンド変更時）
npm run db:update       # マイグレーション適用
npm run setup:test-db   # テストDB確認
```

## 大規模変更・リリース前

### 7. 総合品質チェック ✅
```bash
# 全体品質確認
npm run quality-gate    # 品質ゲートチェック
npm run test:all        # 全テスト実行
npm run test:performance # パフォーマンステスト
```

### 8. 本番準備チェック ✅
```bash
# 本番環境準備
npm run deploy:staging  # ステージング確認
npm run health-check    # ヘルスチェック
```

## チェックリスト項目詳細

### ✅ コード品質（必須）
- [ ] ESLint エラー 0件
- [ ] TypeScript コンパイルエラー 0件
- [ ] Prettier フォーマット適用済み
- [ ] コードレビュー完了（2名承認）
- [ ] SOLID原則遵守確認

### ✅ テスト（必須）
- [ ] 単体テストカバレッジ >90%
- [ ] 統合テスト 100% 合格
- [ ] E2Eテスト 100% 合格
- [ ] 新機能のテストケース作成済み
- [ ] 回帰テスト実行済み

### ✅ パフォーマンス（機能実装時）
- [ ] Lighthouse スコア基準達成
  - Performance: >80
  - Accessibility: >90
  - Best Practices: >80
  - SEO: >80
- [ ] API応答時間 <500ms
- [ ] ページ読み込み時間 <3秒

### ✅ セキュリティ（必須）
- [ ] 脆弱性スキャン 0件
- [ ] 認証・認可正常動作
- [ ] 入力値バリデーション実装
- [ ] XSS・CSRF対策確認
- [ ] 機密情報漏洩チェック

### ✅ データベース（DB変更時）
- [ ] マイグレーション正常実行
- [ ] ロールバック手順確認
- [ ] データ整合性確認
- [ ] パフォーマンス影響確認
- [ ] バックアップ戦略確認

### ✅ ドキュメント（大きな変更時）
- [ ] README更新
- [ ] API仕様書更新
- [ ] コードコメント追加
- [ ] 変更ログ記録
- [ ] 運用手順書更新

### ✅ デプロイメント（リリース時）
- [ ] ステージング環境確認
- [ ] 本番環境設定確認
- [ ] 環境変数設定確認
- [ ] ロールバック計画策定
- [ ] 監視・アラート設定確認

## エラー発生時の対応

### ❌ テスト失敗時
1. `npm run setup:test-db` でテストDB再構築
2. `npm run setup:test-data` でテストデータ再投入
3. 個別テスト実行で原因特定
4. 修正後、再度全テスト実行

### ❌ ビルド失敗時
1. `npm run clean` でクリーンアップ
2. `npm run install:all` で依存関係再インストール
3. TypeScript エラー解決
4. 再ビルド実行

### ❌ パフォーマンス基準未達時
1. `npm run perf:profile` でプロファイリング
2. ボトルネック特定・最適化
3. 再測定で基準達成確認

### ❌ セキュリティ問題検出時
1. 脆弱性詳細確認
2. パッチ適用・コード修正
3. 再スキャンで問題解決確認
4. セキュリティテスト実行

## 推奨実行タイミング

### 📅 毎コミット時
- lint, type-check, format
- 関連する単体テスト

### 📅 プルリクエスト時
- 全単体テスト
- 統合テスト
- ビルド確認

### 📅 マージ時
- E2Eテスト
- パフォーマンステスト
- セキュリティチェック

### 📅 リリース前
- 品質ゲートチェック
- 全テスト実行
- 本番環境準備